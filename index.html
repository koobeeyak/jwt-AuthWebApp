<!DOCTYPE HTML>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

	<script src="/assets/app.js" type="text/javascript"></script>
</head>
<body>
	<h1>Make an API request with authorization via JSON Web Token (JWT)</h1>
	<div id="page_info" name="page_info">
		<p>Write some info here.</p>
		<p>... and here.</p>
	</div>
	<table>
		<tr>
			<td style="width:500px;">
				<form onsubmit="makeAPIRequest();">
					<h2>API Path:</h2>
					<input type="text" name="url" id="url" value="http://127.0.0.1:8081/api/report" style="width:300px;">

					<h2>API Request (in JSON):</h2>
					<span id="api_request_formatting_error" style="color:red;">Error</span>
					<br>
					<textarea name="api_request" id="api_request">{"invalid json"</textarea>
					<br>
					<a onclick="formatAPIRequest();" style="cursor:pointer;">Format</a> |
					<a onclick="clearAPIRequestAndError();" style="cursor:pointer;">Clear</a>

					<h2>Claims to pass in JWT:</h2>
					<span id="claims_formatting_error" style="color:red;">Error</span>
					<br>
					<textarea name="claims" id="claims">{"auth":"true"}</textarea>
					<br>
					<a onclick="formatClaims();" style="cursor:pointer;">Format</a> |
					<a onclick="clearClaimsAndError();" style="cursor:pointer;">Clear</a>
					<br><br>

					<input type="submit">
				</form>
			</td>
			<td>
				<h1>Response Goes Here</h2>
				<div>
					<p>Response Code: <span id="response_code"></span></p>
					<p>Response Status: <span id="response_status"></span></p>					
					<p>Response Data: <span id="response_data"></span></p>					
				</div>
			</td>
		</tr>
	</table>
</body>